В данной директории мы будем собирать контейнер который будет применяться:

dev, stage, prod 

## Локальное тестирование
1. Cобираем контейнер с текущей директории запускаем
`make build-php-fpm`
2. Редактируем файл local_docker/docker-compose.yml
   В нем коментируем лакальную секцию php-fmp 2 а первую роскоментируем
   И можем запускать make build 

Данный контейнер отличаеться главное тем что локальная структура в него полностью копируеться и не подключаеться
как  volumes.
Он предназначе для запуска как pod в кубернетесе, или так как мы его используем локально, получая его 
через локальный реестр - имитируя работу кубера. 
В нем нужно запускать композер и все остальное, по идеи он должен стоиться как с когда который доступен только в гит.

В его докер файле есть переменая ARG ENV_FILE=/.env.example 
она содержит файл .env.exmaple котоырй будет скопирован в .env
Это копирование должна быть выполненна перед началом сборки в CI/CD
3. /.env.example должен быть создан с сикретов гит.
4. скоприрован файл в .env
5. после сборки контейнера файлы .env* должны быть удалены с git


## Ошибки з доступом
иногда на гит серваках могут быть проблемы с доступом, нам нужно зайти в собраный образ
и помостреть соствеников созданых директорий в образе, если хоть одна директория 
которая вызывает ошибку  имеет PUID PGID отличительный от указано в переменых контейнера их 
нужно исправть на текущие как пример:
`
ARG PUID=101
ARG PGID=102
`
